[{"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\Routes.js":"1","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\spare-parts\\SpareParts.js":"2","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\forms\\CreateForm.js":"3","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\reportWebVitals.js":"4","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\forms\\SpareForm.js":"5","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\main\\Main.js":"6","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\forms\\EditForm.js":"7","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\index.js":"8","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\main\\NavBar.js":"9","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\index.js":"10","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\DeleteIcon.js":"11","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\EditIcon.js":"12","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\Box.js":"13","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\PlusIcon.js":"14","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\constants.js":"15","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\main\\App.js":"16","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\CancelIcon.js":"17","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\SearchIcon.js":"18","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\ImageBox.js":"19"},{"size":361,"mtime":1612056176869,"results":"20","hashOfConfig":"21"},{"size":11632,"mtime":1617561698322,"results":"22","hashOfConfig":"21"},{"size":5143,"mtime":1617379754659,"results":"23","hashOfConfig":"21"},{"size":362,"mtime":1606151790095,"results":"24","hashOfConfig":"21"},{"size":3195,"mtime":1617463865446,"results":"25","hashOfConfig":"21"},{"size":562,"mtime":1612752137296,"results":"26","hashOfConfig":"21"},{"size":6664,"mtime":1617556774592,"results":"27","hashOfConfig":"21"},{"size":325,"mtime":1611807145616,"results":"28","hashOfConfig":"21"},{"size":627,"mtime":1617340034479,"results":"29","hashOfConfig":"21"},{"size":504,"mtime":1617062758131,"results":"30","hashOfConfig":"21"},{"size":571,"mtime":1617062680559,"results":"31","hashOfConfig":"21"},{"size":564,"mtime":1617062688227,"results":"32","hashOfConfig":"21"},{"size":286,"mtime":1612752423413,"results":"33","hashOfConfig":"21"},{"size":521,"mtime":1617296349418,"results":"34","hashOfConfig":"21"},{"size":175,"mtime":1617113883796,"results":"35","hashOfConfig":"21"},{"size":140,"mtime":1610892263564,"results":"36","hashOfConfig":"21"},{"size":1011,"mtime":1617164920248,"results":"37","hashOfConfig":"21"},{"size":557,"mtime":1617296631299,"results":"38","hashOfConfig":"21"},{"size":830,"mtime":1617549647689,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1rszxg7",{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"42"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\Routes.js",[],["80","81"],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\spare-parts\\SpareParts.js",["82"],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\forms\\CreateForm.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\reportWebVitals.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\forms\\SpareForm.js",["83"],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\main\\Main.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\forms\\EditForm.js",["84","85"],"import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Spinner\r\n} from \"reactstrap\";\r\nimport { __db__ } from \"../../constants\";\r\nimport ImageBox from \"../utils/ImageBox\";\r\n\r\nfunction EditForm({ spare, toggleEdit, setEditAlert, setRepuestos }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [quant, setQuant] = useState(0);\r\n  const [loc, setLoc] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [datasheet, setDatasheet] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [cancelDS, setCancelDS] = useState(false);\r\n  const [arrCancelImgs, setArrCancelImgs] = useState([]);\r\n  const [hideDelImgs, setHideDelImgs] = useState(false);\r\n\r\n  const handleEditName = e => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleEditDesc = e => {\r\n    setDesc(e.target.value);\r\n  };\r\n\r\n  const handleEditQuant = e => {\r\n    setQuant(e.target.value);\r\n  };\r\n\r\n  const handleEditLocation = e => {\r\n    setLoc(e.target.value);\r\n  };\r\n\r\n  const handleCreateDatasheet = e => {\r\n    let newDatasheet = e.target.files;\r\n\r\n    console.log(newDatasheet);\r\n\r\n    setDatasheet(newDatasheet);\r\n  };\r\n\r\n  const handleCreateImages = e => {\r\n    let imgs = e.target.files;\r\n    let imgsArray = [];\r\n\r\n    Array.from(imgs).forEach(img => {\r\n      imgsArray.push(img);\r\n    });\r\n\r\n    console.log(imgsArray);\r\n\r\n    setImages(imgsArray);\r\n  };\r\n\r\n  const handleEditSubmit = async e => {\r\n    e.preventDefault();\r\n    let id = spare._id;\r\n    let fData = new FormData();\r\n\r\n    let body = {\r\n      nombre: name,\r\n      descripcion: desc,\r\n      cantidad: quant,\r\n      ubicacion: loc,\r\n      deleteImages: arrCancelImgs\r\n    };\r\n\r\n    for (let key in body) {\r\n      fData.append(key, body[key]);\r\n    }\r\n\r\n    images.forEach(img => {\r\n      console.log(img)\r\n      fData.append(\"images\", img);\r\n    });\r\n\r\n    if (datasheet) {\r\n      console.log(datasheet[0]);\r\n      fData.append(\"datasheet\", datasheet[0]);\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      let {\r\n        data: { repuesto }\r\n      } = await axios.put(`${__db__}/repuestos/${id}`, fData);\r\n\r\n      if (repuesto) {\r\n        setLoading(false);\r\n        setRepuestos(repuestos =>\r\n          repuestos.map(rep => {\r\n            if (rep._id === id) {\r\n              return Object.assign({}, rep, repuesto);\r\n            }\r\n            return rep;\r\n          })\r\n        );\r\n        setEditAlert(true);\r\n        setTimeout(() => {\r\n          setEditAlert(false);\r\n        }, 5000);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setLoading(false);\r\n    }\r\n\r\n    toggleEdit();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (spare) {\r\n      setName(spare.nombre);\r\n      setDesc(spare.descripcion);\r\n      setQuant(spare.cantidad);\r\n      setLoc(spare.ubicacion);\r\n      setImages(spare.images);\r\n      setDatasheet(spare.datasheet);\r\n    }\r\n\r\n    if (spare.images.length > 0) {\r\n      setHideDelImgs(true);\r\n    }\r\n  }, [spare]);\r\n\r\n  return (\r\n    <div className=\"edit-form\">\r\n      <Form onSubmit={handleEditSubmit}>\r\n        <div className=\"d-flex justify-content-around\">\r\n          <div className=\"width40\">\r\n            <FormGroup>\r\n              <Label for=\"nombre\">Nombre</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"nombre\"\r\n                id=\"nombreIn\"\r\n                value={name}\r\n                onChange={handleEditName}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label for=\"descripcion\">Descripción</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"descripcion\"\r\n                id=\"descripcionIn\"\r\n                value={desc}\r\n                onChange={handleEditDesc}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label for=\"cantidad\">Cantidad</Label>\r\n              <Input\r\n                type=\"number\"\r\n                name=\"cantidad\"\r\n                id=\"cantidadIn\"\r\n                value={quant}\r\n                onChange={handleEditQuant}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label for=\"ubicacion\">Ubicación</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"ubicacion\"\r\n                id=\"ubicacionIn\"\r\n                value={loc}\r\n                onChange={handleEditLocation}\r\n              />\r\n            </FormGroup>\r\n          </div>\r\n          <div>\r\n            <div className=\"d-flex flex-column\">\r\n              <p\r\n                className={`font-sm mb-1 ${\r\n                  images.length > 0 && hideDelImgs ? \"\" : \"d-none\"\r\n                }`}\r\n              >\r\n                *Selecciona las <strong>imágenes</strong> que deseas\r\n                borrar{\" \"}\r\n                {`${\r\n                  arrCancelImgs.length > 0 && hideDelImgs\r\n                    ? `(${arrCancelImgs.length})`\r\n                    : \"\"\r\n                }`}\r\n              </p>\r\n              <div className=\"d-flex\">\r\n                {images.length > 0 &&\r\n                  hideDelImgs &&\r\n                  images.map(img => (\r\n                    <ImageBox\r\n                      img={img}\r\n                      arrCancelImgs={arrCancelImgs}\r\n                      setArrCancelImgs={setArrCancelImgs}\r\n                    />\r\n                  ))}\r\n              </div>\r\n            </div>\r\n            <FormGroup className=\"mt-3\">\r\n              <Label for=\"images\">Imágenes</Label>\r\n              <Input\r\n                type=\"file\"\r\n                name=\"images\"\r\n                id=\"imagesIn\"\r\n                onChange={handleCreateImages}\r\n                multiple\r\n              />\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label for=\"datasheet\">Datasheet</Label>\r\n              <Input\r\n                type=\"file\"\r\n                name=\"datasheet\"\r\n                id=\"datasheetIn\"\r\n                onChange={handleCreateDatasheet}\r\n                multiple\r\n              />\r\n            </FormGroup>\r\n          </div>\r\n        </div>\r\n\r\n        <Spinner\r\n          color=\"primary\"\r\n          style={{ marginLeft: \"15rem\" }}\r\n          className={`${!loading ? \"d-none\" : \"\"}`}\r\n        />\r\n        <Button\r\n          color=\"danger\"\r\n          className=\"float-right ml-2\"\r\n          onClick={() => toggleEdit()}\r\n        >\r\n          Cancelar\r\n        </Button>\r\n        <Button type=\"submit\" color=\"primary\" className=\"float-right\">\r\n          Editar\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditForm;\r\n","F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\index.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\main\\NavBar.js",["86","87"],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\index.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\DeleteIcon.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\EditIcon.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\Box.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\PlusIcon.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\constants.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\main\\App.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\CancelIcon.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\SearchIcon.js",[],"F:\\Documentos\\Proyectos WEB\\milo-soft\\miloFrontend\\src\\components\\utils\\ImageBox.js",[],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":114,"column":13,"nodeType":"94","messageId":"95","endLine":114,"endColumn":21},{"ruleId":"92","severity":1,"message":"96","line":1,"column":27,"nodeType":"94","messageId":"95","endLine":1,"endColumn":36},{"ruleId":"92","severity":1,"message":"97","line":22,"column":10,"nodeType":"94","messageId":"95","endLine":22,"endColumn":18},{"ruleId":"92","severity":1,"message":"98","line":22,"column":20,"nodeType":"94","messageId":"95","endLine":22,"endColumn":31},{"ruleId":"92","severity":1,"message":"99","line":3,"column":3,"nodeType":"94","messageId":"95","endLine":3,"endColumn":11},{"ruleId":"92","severity":1,"message":"100","line":4,"column":3,"nodeType":"94","messageId":"95","endLine":4,"endColumn":6},"no-native-reassign",["101"],"no-negated-in-lhs",["102"],"no-unused-vars","'response' is assigned a value but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'cancelDS' is assigned a value but never used.","'setCancelDS' is assigned a value but never used.","'Collapse' is defined but never used.","'Nav' is defined but never used.","no-global-assign","no-unsafe-negation"]